<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <!-- ä¿®å¤ä»£ç ï¼šæ·»åŠ  ToggleButton çš„æ ·å¼ -->
    <Style x:Key="RoundedMenuToggleButtonStyle" TargetType="ToggleButton">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="BorderBrush" Value="Transparent"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="Padding" Value="8"/>
        <Setter Property="Cursor" Value="Hand"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ToggleButton">
                    <Border x:Name="mainBorder" 
                        Background="{TemplateBinding Background}"
                        BorderBrush="{TemplateBinding BorderBrush}"
                        BorderThickness="{TemplateBinding BorderThickness}"
                        CornerRadius="3"  
                        Padding="{TemplateBinding Padding}">
                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>

                    <ControlTemplate.Triggers>
                        <!-- 1. åŸºç¡€æ‚¬åœæ•ˆæžœ (é¼ æ ‡ç§»ä¸ŠåŽ»å˜æµ…ç´«) -->
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="mainBorder" Property="Background" Value="#159333EA"/>
                            <Setter TargetName="mainBorder" Property="BorderBrush" Value="#C084FC"/>
                        </Trigger>

                        <!-- 2. åŸºç¡€æŒ‰ä¸‹æ•ˆæžœ (é¼ æ ‡æŒ‰ä½çž¬é—´) -->
                        <Trigger Property="IsPressed" Value="True">
                            <Setter TargetName="mainBorder" Property="Background" Value="#309333EA"/>
                            <Setter TargetName="mainBorder" Property="BorderBrush" Value="#A366F2"/>
                        </Trigger>

                        <!-- 3. é€‰ä¸­/å¼€å¯çŠ¶æ€ (æ ¸å¿ƒä¿®æ”¹ï¼šä½¿ç”¨ IsChecked æ›¿ä»£ Tag) -->
                        <!-- å½“åŠŸèƒ½å¼€å¯æ—¶ï¼Œä¿æŒæ·±ç´«è‰²èƒŒæ™¯ï¼Œä¸”ä¼˜å…ˆçº§é«˜äºŽ MouseOver -->
                        <Trigger Property="IsChecked" Value="True">
                            <Setter TargetName="mainBorder" Property="BorderBrush" Value="#9333EA"/>
                            <Setter TargetName="mainBorder" Property="Background" Value="#28886CE4"/>
                        </Trigger>

                        <!-- 4. (å¯é€‰) æ—¢é€‰ä¸­åˆæ‚¬åœæ—¶ï¼Œç¨å¾®åŠ äº®ä¸€ç‚¹ï¼Œæå‡äº¤äº’è´¨æ„Ÿ -->
                        <MultiTrigger>
                            <MultiTrigger.Conditions>
                                <Condition Property="IsChecked" Value="True"/>
                                <Condition Property="IsMouseOver" Value="True"/>
                            </MultiTrigger.Conditions>
                            <Setter TargetName="mainBorder" Property="Background" Value="#409333EA"/>
                            <Setter TargetName="mainBorder" Property="BorderBrush" Value="#B074FC"/>
                        </MultiTrigger>

                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="Win11ToolIconBtn" TargetType="Button">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="Margin" Value="0,1"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Border x:Name="Bd" Background="{TemplateBinding Background}" CornerRadius="4">
                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="Bd" Property="Background" Value="#15000000"/>
                        </Trigger>
                        <Trigger Property="IsPressed" Value="True">
                            <Setter TargetName="Bd" Property="Background" Value="#25000000"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <!-- ç»Ÿä¸€å›¾æ ‡æ ·å¼ -->
    <Style TargetType="Image" x:Key="StatusIconStyle">
        <Setter Property="Width" Value="14"/>
        <Setter Property="Height" Value="14"/>
        <Setter Property="Margin" Value="0,0,6,0"/>
        <Setter Property="VerticalAlignment" Value="Center"/>
        <Setter Property="Opacity" Value="0.8"/>
    </Style>
    <!-- æŠŠåŽŸæœ¬åœ¨ Window.Resources é‡Œçš„ Styleã€ControlTemplate å‰ªåˆ‡åˆ°è¿™é‡Œ -->
    <Style x:Key="Win11AddButtonStyle" TargetType="Button">
        <Setter Property="Width" Value="36"/>
        <!-- ç¨å¾®çª„ä¸€ç‚¹ï¼Œæ˜¾ç²¾è‡´ -->
        <Setter Property="Height" Value="80"/>
        <!-- ä¸Žä½ çš„ Tab é«˜åº¦ä¿æŒä¸€è‡´ -->
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="Margin" Value="2,0"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <!-- å®¹å™¨ï¼šèƒŒæ™¯è‰²å’Œåœ†è§’ -->
                    <Border x:Name="Bd" 
                            Background="{TemplateBinding Background}" 
                            CornerRadius="6"
                            SnapsToDevicePixels="True">
                        <!-- åŠ¨ç”»è¿‡æ¸¡ -->
                        <VisualStateManager.VisualStateGroups>
                            <VisualStateGroup x:Name="CommonStates">
                                <VisualState x:Name="Normal"/>
                                <VisualState x:Name="MouseOver">
                                    <Storyboard>
                                        <ColorAnimation Storyboard.TargetName="Bd" 
                                                        Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)" 
                                                        To="#15000000" Duration="0:0:0.1"/>
                                        <!-- ðŸ‘† æ‚¬æµ®æ—¶æ˜¾ç¤ºæ·¡æ·¡çš„é»‘è‰² -->
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="Pressed">
                                    <Storyboard>
                                        <ColorAnimation Storyboard.TargetName="Bd" 
                                                        Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)" 
                                                        To="#0D000000" Duration="0:0:0.05"/>
                                        <!-- ðŸ‘‡ ç‚¹å‡»æ—¶å›¾æ ‡ç¨å¾®ç¼©å°ï¼Œå¢žåŠ æŒ‰åŽ‹æ„Ÿ -->
                                        <DoubleAnimation Storyboard.TargetName="IconScale"
                                                         Storyboard.TargetProperty="ScaleX"
                                                         To="0.9" Duration="0:0:0.05"/>
                                        <DoubleAnimation Storyboard.TargetName="IconScale"
                                                         Storyboard.TargetProperty="ScaleY"
                                                         To="0.9" Duration="0:0:0.05"/>
                                    </Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>

                        <!-- å›¾æ ‡ï¼šç»†çº¿æ¡åå­— -->
                        <Path x:Name="Icon" 
                              Data="M0,6 L12,6 M6,0 L6,12" 
                              Stroke="#555" 
                              StrokeThickness="1.2" 
                              VerticalAlignment="Center" 
                              HorizontalAlignment="Center"
                              RenderTransformOrigin="0.5,0.5">
                            <Path.RenderTransform>
                                <ScaleTransform x:Name="IconScale" ScaleX="1" ScaleY="1"/>
                            </Path.RenderTransform>
                        </Path>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <!-- Win11 é£Žæ ¼ ContextMenu æ ·å¼ -->
    <Style x:Key="Win11ContextMenuStyle" TargetType="ContextMenu">

        <Setter Property="Background" Value="#F9F9F9"/>
        <Setter Property="BorderBrush" Value="#E5E5E5"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="Padding" Value="4"/>
        <Setter Property="OverridesDefaultStyle" Value="True"/>
        <Setter Property="Grid.IsSharedSizeScope" Value="True"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ContextMenu">
                    <Popup x:Name="PART_Popup"
                       AllowsTransparency="True"
                       Placement="MousePoint"
                       IsOpen="{TemplateBinding IsOpen}"
                       PopupAnimation="None" 
                       Focusable="False">
                        <Border CornerRadius="8" 
                        Background="{TemplateBinding Background}"
                        BorderBrush="{TemplateBinding BorderBrush}"
                        BorderThickness="{TemplateBinding BorderThickness}"
                        Padding="{TemplateBinding Padding}">
                            <!--<Border.Effect>
                                <DropShadowEffect BlurRadius="15" Opacity="0.2" ShadowDepth="2" Color="Black"/>
                            </Border.Effect>-->
                            <ItemsPresenter KeyboardNavigation.DirectionalNavigation="Cycle"/>
                        </Border>
                    </Popup>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>


    <!-- Win11 é£Žæ ¼ MenuItem æ ·å¼ (æ”¯æŒå‹¾é€‰) -->
    <Style x:Key="Win11MenuItemStyle" TargetType="MenuItem">
        <Setter Property="Height" Value="32"/>
        <Setter Property="Foreground" Value="#1A1A1A"/>
        <Setter Property="Padding" Value="6,0,6,0"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="MenuItem">
                    <Border x:Name="Bg" 
                        Background="Transparent" 
                        CornerRadius="4" 
                        Margin="4,2" 
                        SnapsToDevicePixels="True">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <!-- ç¬¬ä¸€åˆ—ï¼šæ”¾ç½®å›¾æ ‡æˆ–å‹¾é€‰æ ‡è®° -->
                                <ColumnDefinition Width="32" SharedSizeGroup="IconGroup"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto" SharedSizeGroup="ShortcutGroup"/>
                            </Grid.ColumnDefinitions>

                            <!-- å‹¾é€‰æ ‡è®°å±‚ (é»˜è®¤éšè—) -->
                            <Viewbox x:Name="CheckMark" 
         Grid.Column="0" 
         Width="14" Height="14" 
         Visibility="Collapsed" 
         VerticalAlignment="Center" 
         HorizontalAlignment="Center">
                                <Path Data="M2,8 L6,12 L14,3" 
          Stroke="{TemplateBinding Foreground}" 
          StrokeThickness="2" 
          StrokeStartLineCap="Round" 
          StrokeEndLineCap="Round" 
          StrokeLineJoin="Round"
          Fill="Transparent"/>
                            </Viewbox>

                            <!-- å›¾æ ‡å†…å®¹ (å¦‚æžœæœ‰çš„è¯) -->
                            <ContentPresenter x:Name="Icon" 
                                          Grid.Column="0"
                                          ContentSource="Icon" 
                                          Margin="5,0" 
                                          VerticalAlignment="Center" 
                                          HorizontalAlignment="Center"/>

                            <!-- æ–‡å­—å†…å®¹ -->
                            <ContentPresenter Grid.Column="1" 
                                          ContentSource="Header" 
                                          VerticalAlignment="Center" 
                                          Margin="8,0,20,0"/>

                            <!-- å¿«æ·é”®æç¤º -->
                            <TextBlock Grid.Column="2" 
                                   Text="{TemplateBinding InputGestureText}" 
                                   VerticalAlignment="Center" 
                                   Foreground="#808080" 
                                   Margin="10,0,10,0" 
                                   FontSize="11"/>
                        </Grid>
                    </Border>
                    <ControlTemplate.Triggers>
                        <!-- å½“è¢«å‹¾é€‰æ—¶æ˜¾ç¤ºå‹¾é€‰æ ‡è®° -->
                        <Trigger Property="IsChecked" Value="True">
                            <Setter TargetName="CheckMark" Property="Visibility" Value="Visible"/>
                            <Setter TargetName="Icon" Property="Visibility" Value="Collapsed"/>
                        </Trigger>

                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="Bg" Property="Background" Value="#10000000"/>
                        </Trigger>

                        <Trigger Property="IsEnabled" Value="False">
                            <Setter Property="Opacity" Value="0.5"/>
                        </Trigger>
                    </ControlTemplate.Triggers>

                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- åˆ†éš”æ¡æ ·å¼ -->
    <Style x:Key="Win11MenuSeparatorStyle" TargetType="Separator">
        <Setter Property="Height" Value="1"/>
        <Setter Property="Margin" Value="4,4,4,4"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Separator">
                    <Border Background="#E5E5E5"/>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Win11 å¼ºè°ƒè‰² -->
    <SolidColorBrush x:Key="Win11AccentBrush" Color="#0067C0"/>
    <SolidColorBrush x:Key="Win11TrackBackground" Color="#20000000"/>

    <!-- 1. æ»‘å— (Thumb) çš„æ ·å¼ -->
    <Style x:Key="Win11SliderThumbStyle" TargetType="Thumb">
        <Setter Property="SnapsToDevicePixels" Value="true"/>
        <Setter Property="OverridesDefaultStyle" Value="true"/>
        <Setter Property="Height" Value="18"/>
        <Setter Property="Width" Value="18"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Thumb">
                    <Grid>
                        <!-- æ»‘å—å¤–åœˆ -->
                        <Ellipse x:Name="OuterRing" 
                             Fill="White" 
                             Stroke="#BBB" 
                             StrokeThickness="1"/>
                        <!-- æ»‘å—å†…åœ† (Win11 ç‰¹è‰²) -->
                        <Ellipse x:Name="InnerDot" 
                             Fill="{StaticResource Win11AccentBrush}" 
                             Width="6" Height="6" 
                             VerticalAlignment="Center" HorizontalAlignment="Center">
                            <Ellipse.RenderTransform>
                                <ScaleTransform ScaleX="1" ScaleY="1" CenterX="3" CenterY="3"/>
                            </Ellipse.RenderTransform>
                        </Ellipse>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="OuterRing" Property="Stroke" Value="#888"/>
                            <Trigger.EnterActions>
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetName="InnerDot" 
                                                     Storyboard.TargetProperty="(RenderTransform).ScaleX" 
                                                     To="1.5" Duration="0:0:0.1"/>
                                        <DoubleAnimation Storyboard.TargetName="InnerDot" 
                                                     Storyboard.TargetProperty="(RenderTransform).ScaleY" 
                                                     To="1.5" Duration="0:0:0.1"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </Trigger.EnterActions>
                            <Trigger.ExitActions>
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetName="InnerDot" 
                                                     Storyboard.TargetProperty="(RenderTransform).ScaleX" 
                                                     To="1" Duration="0:0:0.1"/>
                                        <DoubleAnimation Storyboard.TargetName="InnerDot" 
                                                     Storyboard.TargetProperty="(RenderTransform).ScaleY" 
                                                     To="1" Duration="0:0:0.1"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </Trigger.ExitActions>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- 2. Slider æ•´ä½“æ¨¡æ¿ (ä¿®æ­£äº† RepeatButton é—®é¢˜) -->
    <Style x:Key="Win11VerticalSliderStyle" TargetType="Slider">

        <Setter Property="OverridesDefaultStyle" Value="True"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Slider">
                    <Grid Margin="0,10">
                        <!-- è½¨é“èƒŒæ™¯ -->
                        <Border x:Name="TrackBackground" 
                            Width="4" 
                            Background="{StaticResource Win11TrackBackground}" 
                            CornerRadius="2" 
                            HorizontalAlignment="Center"/>

                        <!-- è½¨é“æŽ§åˆ¶ -->
                        <Track x:Name="PART_Track">
                            <!-- è¿™é‡Œçš„æŒ‰é’®å¿…é¡»æ˜¯ RepeatButton -->
                            <Track.DecreaseRepeatButton>
                                <RepeatButton Command="{x:Static Slider.DecreaseLarge}" Background="Transparent" BorderBrush="Transparent">
                                    <RepeatButton.Template>
                                        <ControlTemplate TargetType="RepeatButton">
                                            <Border Background="Transparent"/>
                                        </ControlTemplate>
                                    </RepeatButton.Template>
                                </RepeatButton>
                            </Track.DecreaseRepeatButton>
                            <Track.IncreaseRepeatButton>
                                <RepeatButton Command="{x:Static Slider.IncreaseLarge}" Background="Transparent" BorderBrush="Transparent">
                                    <RepeatButton.Template>
                                        <ControlTemplate TargetType="RepeatButton">
                                            <Border Background="Transparent"/>
                                        </ControlTemplate>
                                    </RepeatButton.Template>
                                </RepeatButton>
                            </Track.IncreaseRepeatButton>
                            <Track.Thumb>
                                <Thumb Style="{StaticResource Win11SliderThumbStyle}"/>
                            </Track.Thumb>
                        </Track>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>


    <Style TargetType="ToolBar">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ToolBar">
                    <StackPanel Orientation="Horizontal" IsItemsHost="True"/>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <!-- é€šç”¨æ ‡é¢˜æ æŒ‰é’®æ ·å¼ -->
    <Style x:Key="TitleTextStyle" TargetType="TextBlock">
        <Setter Property="Foreground" Value="Black"/>
        <Style.Triggers>
            <!-- å½“æ‰€åœ¨çª—å£å¤±åŽ»ç„¦ç‚¹æ—¶å˜ç° -->
            <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Window}, Path=IsActive}" Value="False">
                <Setter Property="Foreground" Value="Gray"/>
            </DataTrigger>
        </Style.Triggers>
    </Style>

    <Style x:Key="TitleBarButtonStyle" TargetType="Button">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="BorderBrush" Value="Transparent"/>
        <Setter Property="Foreground" Value="Black"/>
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="FontWeight" Value="SemiBold"/>
        <Setter Property="Cursor" Value="Hand"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Border x:Name="Border"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="0"
                            >
                        <ContentPresenter VerticalAlignment="Center"
                                          HorizontalAlignment="Center"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="Border" Property="Background" Value="#EEE"/>
                        </Trigger>
                        <Trigger Property="IsPressed" Value="True">
                            <Setter TargetName="Border" Property="Background" Value="#DDD"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style x:Key="MenuSeparator" TargetType="Separator">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Separator">
                    <Grid Margin="0,4,0,4">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="32"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <Rectangle Grid.Column="0" Grid.ColumnSpan="3"
                             Height="1"
                            Stroke="#DDD"
                             VerticalAlignment="Center"/>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <!-- ä¸“é—¨ç”¨äºŽâ€œå…³é—­â€æŒ‰é’®çš„æ ·å¼ -->
    <Style x:Key="CloseButtonStyle" BasedOn="{StaticResource TitleBarButtonStyle}" TargetType="Button">
        <Setter Property="FontSize" Value="18"/>
        <!-- å­—ä½“æ›´å¤§ -->
        <Setter Property="Foreground" Value="Black"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Border x:Name="Border"
                            Background="{TemplateBinding Background}"
                            >
                        <ContentPresenter VerticalAlignment="Center"
                                          HorizontalAlignment="Center"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <!-- æ‚¬æµ®çº¢è‰² -->
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="Border" Property="Background" Value="#FF5555"/>
                            <Setter Property="Foreground" Value="White"/>
                        </Trigger>
                        <!-- ç‚¹å‡»æ·±çº¢è‰² -->
                        <Trigger Property="IsPressed" Value="True">
                            <Setter TargetName="Border" Property="Background" Value="#CC3333"/>
                            <Setter Property="Foreground" Value="White"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style x:Key="ColorCircleButtonStyle" TargetType="Button">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="Width" Value="34"/>
        <!-- ç¨å¾®åŠ å®½ä¸€ç‚¹ï¼Œç»™å¤–åœˆç•™ç©ºé—´ -->
        <Setter Property="Height" Value="34"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <!-- Grid ç”¨äºŽå åŠ å†…å¤–ä¸¤ä¸ªåœ† -->
                    <Grid>
                        <!-- 1. å¤–å±‚ï¼šé«˜äº®è¾¹æ¡†åœ† (é»˜è®¤é€æ˜Ž) -->
                        <Ellipse x:Name="OuterRing" 
                             Stroke="Transparent" 
                             StrokeThickness="1" 
                             HorizontalAlignment="Stretch" 
                             VerticalAlignment="Stretch"/>

                        <!-- 2. å†…å±‚ï¼šå®žé™…çš„é¢œè‰²åœ† -->
                        <!-- Margin="4" å°±æ˜¯ä½ æƒ³è¦çš„é—´è· -->
                        <Ellipse x:Name="InnerCircle" 
                             Fill="{TemplateBinding Background}"
                             Stroke="#CCCCCC" 
                             StrokeThickness="1"
                             Margin="4" 
                             SnapsToDevicePixels="True"/>
                    </Grid>

                    <ControlTemplate.Triggers>
                        <!-- å½“ Tag ä¸º True (é€‰ä¸­) æ—¶ -->
                        <Trigger Property="Tag" Value="True">
                            <!-- æ˜¾ç¤ºå¤–å±‚ç´«è‰²è¾¹æ¡† -->
                            <Setter TargetName="OuterRing" Property="Stroke" Value="#D6BFFE"/>
                        </Trigger>

                        <!-- é¼ æ ‡æ‚¬åœæ—¶ï¼Œå†…åœˆè¾¹æ¡†åŠ æ·± -->
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="InnerCircle" Property="Stroke" Value="#888888"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>



    <Style x:Key="SubMenuItemStyle" TargetType="MenuItem">
        <Setter Property="Padding" Value="12,6"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="MenuItem">
                    <Border x:Name="BgBorder" 
            CornerRadius="4" 
            Background="Transparent" 
            Padding="{TemplateBinding Padding}">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="32"/>
                                <!-- å›¾æ ‡åŒº -->
                                <ColumnDefinition Width="*"/>
                                <!-- æ–‡å­— -->
                                <ColumnDefinition Width="Auto"/>
                                <!-- å¿«æ·é”® -->
                            </Grid.ColumnDefinitions>

                            <!-- å›¾æ ‡ -->
                            <ContentPresenter Grid.Column="0"
                              ContentSource="Icon"
                              VerticalAlignment="Center"
                              HorizontalAlignment="Center"
                              Width="16" Height="16"/>

                            <!-- èœå•æ–‡å­— -->
                            <ContentPresenter Grid.Column="1"
                              ContentSource="Header"
                              VerticalAlignment="Center"/>

                            <!-- å¿«æ·é”® -->
                            <TextBlock Grid.Column="2"
                       Text="{TemplateBinding InputGestureText}"
                       Foreground="#888"
                       Margin="16,0,8,0"
                       VerticalAlignment="Center"
                                           HorizontalAlignment="Right"/>
                        </Grid>
                    </Border>

                    <!-- é«˜äº® -->
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsHighlighted" Value="True">
                            <Setter TargetName="BgBorder" Property="Background" Value="#E7F3FF"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>

            </Setter.Value>
        </Setter>
    </Style>


    <Style x:Key="ModernMenuItemStyle" TargetType="{x:Type MenuItem}">
        <!-- è®¾ç½®å†…è¾¹è·ï¼Œè®©èƒŒæ™¯æ¯”æ–‡å­—å¤§ä¸€äº› -->
        <Setter Property="Padding" Value="10,5"/>
        <!-- è®¾ç½®å¤–è¾¹è·ï¼Œè®©èœå•é¡¹ä¹‹é—´æœ‰é—´è· -->
        <Setter Property="Margin" Value="2,0"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type MenuItem}">
                    <!-- ä½¿ç”¨ Grid å¸ƒå±€ï¼Œæ–¹ä¾¿æ”¾ç½® Header å’Œ Popup -->
                    <Grid Background="Transparent">
                        <!-- è§†è§‰å…ƒç´ ï¼šåœ†è§’è¾¹æ¡†ï¼Œç”¨äºŽæ‚¬æµ®æ•ˆæžœ -->
                        <Border x:Name="BgBorder" 
                                Background="Transparent" 
                                BorderBrush="Transparent" 
                                BorderThickness="1"
                                CornerRadius="2">
                            <!-- å†…å®¹æ˜¾ç¤ºï¼šç»‘å®š Header å’Œ Padding -->
                            <ContentPresenter ContentSource="Header" 
                                              RecognizesAccessKey="True"
                                              HorizontalAlignment="Center"
                                              VerticalAlignment="Center"
                                              Margin="{TemplateBinding Padding}"/>
                        </Border>

                        <!-- åŠŸèƒ½æ ¸å¿ƒï¼šPopup ç”¨äºŽæ˜¾ç¤ºå­èœå• -->
                        <!-- IsOpen å±žæ€§ä¸Ž MenuItem çš„ IsSubmenuOpen çŠ¶æ€ç»‘å®š -->
                        <Popup x:Name="SubMenuPopup"
                               IsOpen="{Binding IsSubmenuOpen, RelativeSource={RelativeSource TemplatedParent}}"
                               Placement="Bottom"
                               Focusable="false"
                               AllowsTransparency="True"
                               PopupAnimation="None">
                            <!-- å­èœå•çš„å®¹å™¨å’Œå¤–è§‚ -->
                            <Border Name="SubmenuBorder"
                                    Background="White"
                                    BorderBrush="#E0E0E0"
                                    BorderThickness="1"
                                    CornerRadius="4"
                                    Margin="5,0"
                                    Padding="2">
                                <!-- ItemsPresenter ç”¨äºŽæ˜¾ç¤ºæ‰€æœ‰å­ MenuItem -->
                                <ItemsPresenter x:Name="ItemsPresenter"
                                                KeyboardNavigation.DirectionalNavigation="Cycle"
                                                Grid.IsSharedSizeScope="true"
                                                SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"
                                                KeyboardNavigation.TabNavigation="Cycle"/>
                            </Border>
                        </Popup>
                    </Grid>

                    <!-- è§¦å‘å™¨ï¼šå®šä¹‰ä¸åŒçŠ¶æ€ä¸‹çš„æ ·å¼ -->
                    <ControlTemplate.Triggers>
                        <!-- 1. é¼ æ ‡æ‚¬æµ®æ—¶çš„æ ·å¼ -->
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="BgBorder" Property="Background" Value="#77E0E0E0"/>
                        </Trigger>

                        <!-- 2. å½“å­èœå•æ‰“å¼€æ—¶ï¼Œä¿æŒé«˜äº®çŠ¶æ€ -->
                        <Trigger Property="IsSubmenuOpen" Value="True">
                            <Setter TargetName="BgBorder" Property="Background" Value="#77EAEAEA"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="RoundedMenuButtonStyle" TargetType="Button">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="BorderBrush" Value="Transparent"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="Padding" Value="8"/>
        <Setter Property="Cursor" Value="Hand"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <!-- å‘½å Border ä¸º mainBorder æ–¹ä¾¿ Trigger æŒ‡å®šç›®æ ‡ -->
                    <Border x:Name="mainBorder" 
                        Background="{TemplateBinding Background}"
                        BorderBrush="{TemplateBinding BorderBrush}"
                        BorderThickness="{TemplateBinding BorderThickness}"
                        CornerRadius="3"  
                        Padding="{TemplateBinding Padding}">
                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>

                    <ControlTemplate.Triggers>
                        <!-- 1. åŸºç¡€æ‚¬åœæ•ˆæžœ -->
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="mainBorder" Property="Background" Value="#159333EA"/>
                            <Setter TargetName="mainBorder" Property="BorderBrush" Value="#C084FC"/>
                        </Trigger>

                        <!-- 2. åŸºç¡€æŒ‰ä¸‹æ•ˆæžœ -->
                        <Trigger Property="IsPressed" Value="True">
                            <Setter TargetName="mainBorder" Property="Background" Value="#309333EA"/>
                            <Setter TargetName="mainBorder" Property="BorderBrush" Value="#A366F2"/>
                        </Trigger>

                        <!-- 3. é€‰ä¸­çŠ¶æ€æ•ˆæžœ (é€šè¿‡ Tag åˆ¤æ–­) -->
                        <!-- å½“ Tag ä¸º True æ—¶ï¼Œå³ä½¿é¼ æ ‡ç§»å‡ºï¼Œé¢œè‰²ä¹Ÿä¼šä¿æŒ -->
                        <DataTrigger Binding="{Binding Tag, RelativeSource={RelativeSource Self}}" Value="True">
                            <Setter TargetName="mainBorder" Property="BorderBrush" Value="#9333EA"/>
                            <Setter TargetName="mainBorder" Property="Background" Value="#28886CE4"/>
                        </DataTrigger>


                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>



    <Style x:Key="SliderRepeatButtonStyle" TargetType="RepeatButton">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="BorderBrush" Value="Transparent"/>
        <Setter Property="IsTabStop" Value="False"/>
        <Setter Property="Focusable" Value="False"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="RepeatButton">
                    <!-- ä½¿ç”¨ä¸€ä¸ªç®€å•çš„çŸ©å½¢ä½œä¸ºæ¨¡æ¿ï¼Œç¡®ä¿å®ƒä¸ä¼šå¹²æ‰°å…¶ä»–å…ƒç´  -->
                    <Rectangle Fill="{TemplateBinding Background}" />
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style x:Key="ToolbarButtonStyle" TargetType="Button">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="BorderBrush" Value="Transparent"/>
        <Setter Property="Padding" Value="4"/>
        <Setter Property="Cursor" Value="Hand"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Border Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="0" CornerRadius="4">
                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter Property="Background" Value="#333"/>
                        </Trigger>
                        <Trigger Property="IsPressed" Value="True">
                            <Setter Property="Background" Value="#555"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="DropDownButtonStyle" TargetType="{x:Type ToggleButton}">
        <Setter Property="Padding" Value="7,7"/>
        <Setter Property="Margin" Value="2,0"/>
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="BorderBrush" Value="Transparent"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ToggleButton}">
                    <!-- ä½¿ç”¨ Border æ¥å®žçŽ°æ‚¬æµ®å’Œç‚¹å‡»æ—¶çš„èƒŒæ™¯æ•ˆæžœ -->
                    <Border x:Name="BgBorder" 
                        Background="{TemplateBinding Background}" 
                        BorderBrush="{TemplateBinding BorderBrush}" 
                        BorderThickness="{TemplateBinding BorderThickness}"
                        CornerRadius="2">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <!-- å·¦ä¾§ï¼šæ˜¾ç¤ºæ–‡å­—å†…å®¹ï¼Œå¦‚ "æ•ˆæžœ" -->
                            <ContentPresenter Grid.Column="0"
                                          ContentSource="Content" 
                                          RecognizesAccessKey="True"
                                          HorizontalAlignment="Center"
                                          VerticalAlignment="Center"
                                          Margin="{TemplateBinding Padding}"/>

                            <!-- å³ä¾§ï¼šæ˜¾ç¤ºä¸‹æ‹‰ç®­å¤´å›¾æ ‡ï¼Œä½œä¸ºå®žé™…çš„ç‚¹å‡»åŒºåŸŸ -->
                            <Path x:Name="Arrow"
                                      Grid.Column="1"
                                      Data="M 0 0 L 4 4 L 8 0 "
                                      Stroke="#333"
                                      StrokeThickness="1"
                                      VerticalAlignment="Center"
                                      Margin="0,0,8,0">

                            </Path>

                        </Grid>
                    </Border>

                    <!-- è§¦å‘å™¨ï¼šå®šä¹‰ä¸åŒçŠ¶æ€ä¸‹çš„æ ·å¼ -->
                    <ControlTemplate.Triggers>
                        <!-- 1. é¼ æ ‡æ‚¬æµ®æ—¶çš„æ ·å¼ -->
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="BgBorder" Property="Background" Value="#77E0E0E0"/>
                        </Trigger>

                        <!-- 2. å½“æŒ‰é’®è¢«æŒ‰ä¸‹ï¼ˆå­èœå•æ‰“å¼€ï¼‰æ—¶ï¼Œä¿æŒé«˜äº®çŠ¶æ€ -->
                        <Trigger Property="IsChecked" Value="True">
                            <Setter TargetName="BgBorder" Property="Background" Value="#77EAEAEA"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <!-- æ‰å¹³èœå•æ ·å¼ -->

    <Style TargetType="Button" x:Key="ToolButton">
        <Setter Property="Background" Value="#ccc"/>
        <Setter Property="Foreground" Value="White"/>
        <Setter Property="FontWeight" Value="Bold"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Border Background="{TemplateBinding Background}"
                        CornerRadius="6"
                        Padding="{TemplateBinding Padding}">
                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter Property="Background" Value="#333"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- èœå•å¼¹å‡ºçª—å£çš„åœ†è§’ä¸Žé˜´å½±æ•ˆæžœ -->
    <Style TargetType="ContextMenu">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ContextMenu">
                    <Border Background="#222"
                        BorderBrush="#444"
                        BorderThickness="1"
                        CornerRadius="6"
                        Padding="2">
                        <Border.Effect>
                            <DropShadowEffect BlurRadius="10"
                                          ShadowDepth="3"
                                          Color="#66000000"/>
                        </Border.Effect>
                        <StackPanel>
                            <ItemsPresenter/>
                        </StackPanel>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- 1. è°ƒæ•´å¤§å°çš„æ‰‹æŸ„æ ·å¼ -->
    <Style x:Key="ResizeHandleStyle" TargetType="Thumb">
        <Setter Property="Width" Value="8"/>
        <Setter Property="Height" Value="8"/>
        <Setter Property="Background" Value="White"/>
        <Setter Property="BorderBrush" Value="#888888"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Thumb">
                    <Grid>
                        <!-- é€æ˜Žå¤§æ„Ÿåº”åŒº -->
                        <Rectangle Fill="Transparent" Margin="-4"/>
                        <Rectangle Fill="{TemplateBinding Background}"
                                   Stroke="{TemplateBinding BorderBrush}"
                                   StrokeThickness="{TemplateBinding BorderThickness}"/>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- 2. Fluent é£Žæ ¼ ComboBox -->
    <Style x:Key="FluentComboBoxStyle" TargetType="ComboBox">
        <Setter Property="Height" Value="32"/>
        <Setter Property="VerticalContentAlignment" Value="Center"/>
        <Setter Property="Padding" Value="8,0,0,0"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="BorderBrush" Value="#DCDCDC"/>
        <Setter Property="Background" Value="White"/>
        <Setter Property="Margin" Value="0,0,8,0"/>
        <Setter Property="IsEditable" Value="True"/>
    </Style>

    <!-- 3. Fluent é£Žæ ¼ ToggleButton -->
    <Style x:Key="FluentToggleButtonStyle" TargetType="ToggleButton">
        <Setter Property="Width" Value="32"/>
        <Setter Property="Height" Value="32"/>
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="BorderBrush" Value="Transparent"/>
        <Setter Property="Margin" Value="2,0"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ToggleButton">
                    <Border x:Name="border" 
                            Background="{TemplateBinding Background}" 
                            BorderBrush="{TemplateBinding BorderBrush}" 
                            BorderThickness="{TemplateBinding BorderThickness}" 
                            CornerRadius="4">
                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="border" Property="Background" Value="#EAEAEA"/>
                        </Trigger>
                        <Trigger Property="IsChecked" Value="True">
                            <Setter TargetName="border" Property="Background" Value="#E2E2E2"/>
                            <Setter TargetName="border" Property="BorderBrush" Value="#CCCCCC"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <DrawingBrush x:Key="CheckerboardBrush" TileMode="Tile" Viewport="0,0,20,20" ViewportUnits="Absolute">
        <DrawingBrush.Drawing>
            <DrawingGroup>
                <!-- æµ…ç°åº•è‰² -->
                <GeometryDrawing Brush="#FFF0F0F0">
                    <GeometryDrawing.Geometry>
                        <RectangleGeometry Rect="0,0,20,20"/>
                    </GeometryDrawing.Geometry>
                </GeometryDrawing>
                <!-- æ·±ç°æ ¼å­ -->
                <GeometryDrawing Brush="#FFD0D0D0">
                    <GeometryDrawing.Geometry>
                        <GeometryGroup>
                            <RectangleGeometry Rect="0,0,10,10"/>
                            <RectangleGeometry Rect="10,10,10,10"/>
                        </GeometryGroup>
                    </GeometryDrawing.Geometry>
                </GeometryDrawing>
            </DrawingGroup>
        </DrawingBrush.Drawing>
    </DrawingBrush>
    <!-- å¦‚æžœæœ‰å¼•ç”¨çš„é¢œè‰²ï¼Œä¹Ÿå¯ä»¥æ”¾åœ¨è¿™é‡Œæˆ–å¼•ç”¨ Brushes.xaml -->
</ResourceDictionary>
